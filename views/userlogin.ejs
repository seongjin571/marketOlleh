<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>사용자회원가입</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <h1>사용자회원가입</h1>

    <label>아이디</label>
    <input type="text" id="user_id" placeholder="user_id">
    <br>

    <label>비밀번호</label>
    <input type="text" id="password" placeholder="password">
    <br>

    <label>user_name</label>
    <input type="text" id="user_name" placeholder="user_name">
    <br>

    <label>user_phone</label>
    <input type="text" id="user_phone" placeholder="user_phone">
    <br>

    <button style="margin-bottom: 3%" type="button" id='user_applyButton'>회원 가입</button>
  </body>
  <script>
  $('#user_applyButton').click(function () {
          var user_id = $('#user_id').val();
          var password = $('#password').val();
          var user_name = $('#user_name').val();
          var user_phone = $('#user_phone').val();
          var data = {
            'user_id' : user_id,
            'password' : password,
            'user_name' : user_name,
            'user_phone' : user_phone
          };
          console.log(data);
          $.ajax({
            type:'POST',
            url:'/userApply',
            contentType:'application/x-www-form-urlencoded; charset=UTF-8',
            cache:false,
            dataType:'json',
            data:data,
            success:function(result){
              if(result['result']=='success'){
                alert('success');
                $(window).attr('location', '/main');
              }
            },
            error:function(error){
              console.log('erer');
              alert('error');
            }
      });
      });
  </script>
</html>
